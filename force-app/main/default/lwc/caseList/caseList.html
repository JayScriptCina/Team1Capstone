<template>
  <lightning-card title="Dynamic Filter DataTable">
    <div class="slds-grid slds-wrap slds-p-around_medium">
      
      <!-- Status Filter -->
      <div class="slds-col slds-size_1-of-5">
        <lightning-combobox
        label="Status" 
        options={statusOptionsArr}
        onchange={handleFilterChange}
        data-filter="status"
        ></lightning-combobox>
      </div>
      
      <!-- Priority Filter -->
      <div class="slds-col slds-size_1-of-5">
        <lightning-combobox
        label="Priority"
        options={priorityOptionsArr}
        onchange={handleFilterChange}
        data-filter="priority"
        ></lightning-combobox>
      </div>
      
      <!-- Record Type Filter -->
      <div class="slds-col slds-size_1-of-5">
        <lightning-combobox
        label="RecordType"
        options={recordTypeOptionsArr}
        onchange={handleFilterChange}
        data-filter="recordType"
        ></lightning-combobox>
      </div>
      
      <!-- Contact Filter -->
      <div class="slds-col slds-size_1-of-5">
        <lightning-input 
        type="text" 
        label="Contact"
        onchange={handleFilterChange}
        data-filter="contact"
        ></lightning-input>
      </div>
      
      
      <!-- Reset Button -->
      <div class="slds-col slds-size_1-of-5 slds-m-top_medium">
        <lightning-button 
        label="Reset Filters" 
        variant="neutral" 
        onclick={resetFilters}
        ></lightning-button>
      </div>
    </div>

    <div>
      <p>
        Total cases with these filters is {filteredDataCount}
        increment is {increment}
        index is {index}
        offset is {rowOffset}
      </p>
      <!-- Prev Button -->
      <lightning-button 
      label="Previous" 
      variant="neutral" 
      onclick={handlePrevious}
      ></lightning-button>
      
      <!-- Next Button -->
      <lightning-button 
      label="Next" 
      variant="neutral" 
      onclick={handleNext}
      ></lightning-button>
    </div>
    
    <!-- DataTable -->
    <lightning-datatable 
    key-field="id"
    data={slicedData}
    columns={columns}
    hide-checkbox-column="true"
    row-number-offset={rowOffset}
    ></lightning-datatable>
  </lightning-card>
</template>